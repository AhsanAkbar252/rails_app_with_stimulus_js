<%= form_with(model: user, class: "needs-validation", novalidate: true) do |form| %>

    <div class="modal-body">
      <% if user.errors.any? %>
        <div class="alert alert-danger">
          <h2><%= pluralize(user.errors.count, "error") %> prohibited this user from being saved:</h2>

          <ul>
            <% user.errors.each do |error| %>
              <li><%= error.full_message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="mb-3">
        <%= form.label :name, class: "form-label" %>
        <%= form.text_field :name, class: "form-control", required: true %>
        <div class="invalid-feedback">
          Please enter a name.
        </div>
      </div>

      <div class="mb-3">
        <%= form.label :email, class: "form-label" %>
        <%= form.text_field :email, class: "form-control", required: true %>
        <div class="invalid-feedback">
          Please enter a valid email address.
        </div>
      </div>

      <div class="mb-3">
        <%= form.label :city, class: "form-label" %>
        <%= form.text_field :city, class: "form-control" %>
      </div>


      <div class="mb-3">
        <%= form.label :country, class: "form-label" %>
        <%= form.country_select :country, {prompt: "Select Country"} , { class: "form-select form-select-lg", data: {controller: "countries"} } %>
      </div>

      <div class="form-group" id="country_states_list">
      </div>

      <div class="mb-3">
        <%= form.label :contact_number, class: "form-label" %>
        <%= form.text_field :contact_number, class: "form-control" %>
      </div>

    </div>

    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      <%= form.submit "Save", class: "btn btn-primary", data: {action: 'click->bs-modal#submit'} %>
    </div>
<% end %>
